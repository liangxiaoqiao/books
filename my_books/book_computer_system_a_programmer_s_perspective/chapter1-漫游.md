1. **计算机系统** 由 **硬件和系统软件**组成的。
2. 像helloword.c只由 ASCII字符构成的文件称为 **文本文件**。 其他所有文件都称为**二进制文件**。
    1. 系统中的所有信息：都是由一串比特表示的。
    2. 区分不同数据对象的唯一方法： **根据这些数据对象的上下文** （比如：不同的上下文中，一个同样的字节序列可能表示一个整数 浮点数 字符串或机器指令）
3. 源文件到目标文件的转化是由**编译器驱动程序**完成的。
    1. 预处理阶段
    2. 编译阶段 （hello.i转换成hello.s 汇编语言程序）
    3. 汇编阶段 （汇编器将 hello.s翻译成**机器语言指令**）
    4. 链接阶段  (链接器(ld) 负责处理合并，得到可执行文件)
4. 了解编译系统的益处：优化程序性能，理解链接时出现的错误，避免安全漏洞
5. 处理器读并解释储存在内存中的指令
6. 系统的硬件构成
    1. **总线** 携带信息字节并负责在各个部件间传递
    2. **I/O设备** 1.系统与外部世界的联系通道。 2.I/O设备通过**控制器或适配器**与I/O总线相连。3.控制器时I/O设备本身或者主板上的芯片组。适配器时一块插在主板插槽上的卡。
    3. **主存** 临时存储设备，处理器执行程序时，用来存放程序和程序处理的数据
    4. **处理器** CPU 解释或执行存储在主存指令的引擎。
        ```markdown
        核心：大小为一个字的存储设备（或寄存器），称为*程序计数器*（PC）。
        任何时刻，PC指向主存中的某条机器语言指令（即含有该条指令的地址）。从系统通电开始，处理器一直在不断地执行 程序计数器 指向的指令，再更新程序计数器，使其指向下一条指令。
        CPU在指令的要求下可能会执行这些操作：加载 存储 操作 跳转
        ```
7. 运行hello程序： 磁盘 - 复制到主存（程序加载时）- 主存复制到处理器（处理器运行程序时）
8. 高速缓存
    1. 处理器从**寄存器**读取数据比从**主存**中读取要快**100倍**。
    2. 高速缓存存储器 简称为**cache或者高速缓存**
    3. **L1高速缓存**访问速度几乎和 寄存器 一样快。
    4. **L2高速缓存**访问速度比L1时间长了5倍。
9. 所有应用程序对硬件的操作尝试都必须通过**操作系统**。
    1. 防止硬件被失控的应用程序滥用
    2. 向应用程序提供简单一致的机制来控制复杂而又大不相同的低级硬件设备。
10. 操作系统通过几个基本的抽象概念来实现这两个功能。 **文件**：对I/O设备的抽象 **虚拟内存**：对主存和磁盘I/O的抽象 **进程**：对处理器、主存和I/O设备的抽象

##### 进程
1. 进程是操作系统对一个正在运行的程序的一种抽象。（每个进程都好像在独占地使用硬件）
2. 并发运行：一个进程的指令和另一个进程的指令是交错执行的。
3. 操作系统实现这种交错执行的机制称为 上下文切换。
4. 操作系统保持跟踪进程运行所需的所有状态信息。这种状态，也就是**上下文**。
5. **上下文切换** 保存当前进程的上下文，恢复新进程的上下文，然后将控制权传递到新进程。新进程就会从它上次停止的地方开始。
6. **内核**是操作系统代码常驻主存的部分。进程的转换是由 内核管理的。
7. 进程可以由多个**线程**组成，每个线程都运行在进程的上下文中，并共享同样的代码和全局数据。

##### 虚拟内存
1. 虚拟内存是一个抽象概念。
2. 为每一个进程提供了一种假象，即每个进程都在独占使用主存。
3. 每个进程看到的内存都是一致的，称为**虚拟地址空间**
4. 地址空间：程序代码和数据、堆、共享库、栈、内核虚拟地址

##### 文件
1. 文件就是字节序列
2. 每个I/O设备，都可以看成是文件
---
Amdahl定律： S=1/[(1-a)+a/k]
程序总时间为: T~old~ 
某部分所需时间比例为：a； 该部分性能提升比例为：k
则该部分： 原来需要时间为 aT~old~  现在需要时间为: (aT~old~)/k
因此： T~new~ = (1-a)T~old~ + (aT~old~)/k = T~old~[(1-a)+a/k]
加速比： S=T~old~/T~new~ = 1/[(1-a)+a/k]
要想显著加速整个系统，必须提升全系统相当大的部分的速度。

---
